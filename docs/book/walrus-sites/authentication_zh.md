# 站点数据身份验证

Walrus Sites 提供了一个简单的机制来在客户端验证从 Walrus 存储提供的数据的身份。因此，Walrus Sites 可以保证（根据设置具有不同程度的信心）站点数据是真实的，并且没有被恶意聚合器篡改。

## 身份验证机制

Sui 上的 Walrus Sites 资源对象存储资源信息以及资源内容的 SHA-256 哈希。

当客户端请求资源时，门户会检查从 Walrus 存储（特别是 Walrus 聚合器）接收到的数据的哈希是否与存储在 Sui 上的哈希匹配。

如果哈希不匹配，门户将返回以下警告页面：

![哈希不匹配警告页面](../assets/walrus-sites-hash-mismatch.png)

## 身份验证保证

根据部署类型，此技术提供了不同程度的站点数据真实性信心。我们按照保证程度递增的顺序列出它们。

### 远程服务器端门户部署

在这种情况下，用户必须完全信任门户提供商来验证数据。通过可信的门户，身份验证机制保证聚合器或缓存（从中获取 blob 的地方）没有篡改 blob 的内容。

### 远程服务工作者门户部署

在这里，只信任门户提供商为用户提供正确的服务工作者代码。然后用户的浏览器将执行获取和身份验证。因此保证与远程服务器端门户相同，但用户可以检查门户提供商返回的代码并验证其完整性（例如，通过将服务工作者代码的哈希与已知正确的哈希进行比较）。

### 本地门户部署

最后，用户可以克隆 Walrus Sites 仓库并在本地部署门户，通过 `localhost` 浏览 Walrus Sites。在这种情况下，用户对门户代码有完全的控制权，可以验证其操作。因此，他们可以完全验证 Walrus 和 Walrus Sites 提供的数据是原始开发者意图的。