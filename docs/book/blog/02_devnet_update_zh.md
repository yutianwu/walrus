# 开发网络更新

发布时间：2024-08-12

```admonish warning
此博客文章以原始形式显示，可能包含不再准确的信息。
一些损坏的链接可能已被更新或删除。
```

我们已经重新部署了 Walrus 开发网络，以整合对 Walrus 存储节点和客户端的各种改进。在此过程中，存储在 Walrus 上的所有 blob 都被清除了。请注意，这可能会在开发网络和测试网上再次发生，但显然*不会在未来的主网上发生*。

## Walrus Sites 的迁移和重新部署

您可以按照[设置章节](../usage/setup.md)中描述的方式获取最新版本的 `walrus` 二进制文件和新配置。

如果您已经部署了任何 Walrus Sites，Sui 上的站点对象和任何 SuiNS 名称仍然有效。但是，您需要在 Walrus 上重新存储所有 blob。您可以通过运行站点构建器工具（从 `walrus-sites` 目录）来实现这一点，如下所示：

```sh
./target/release/site-builder --config site-builder/assets/builder-example.yaml update --force \
    <站点路径> <站点对象 ID>
```

## 变更

除了对存储节点的许多改进之外，新版本的 Walrus 还包括以下面向用户的变更：

- 改进的代币管理：客户端现在可以更好地选择用于 gas 和存储费用的代币。用户不再需要在钱包中拥有多个代币。
- 改进的连接管理：客户端现在限制并行连接的数量，以提高网络带宽较低的用户存储大型 blob 时的性能。
- OpenAPI 规范：Walrus 存储节点、聚合器和发布器在路径 `/v1/api` 处公开其 API 规范。
- JSON 格式的系统信息：`info` 命令现在也可在 JSON 模式下使用。
- 客户端版本：`walrus` CLI 现在有一个 `--version` 选项。
- 支持空 blob：Walrus 现在支持空 blob。
- 默认配置文件路径：客户端现在除了 `~/.walrus` 之外，还会在 `~/.config/walrus` 中查找配置文件，并且除了 `.yaml` 之外还识别 `.yml` 扩展名。
- 路径中的主目录：配置文件中指定的路径现在会将开头的 `~` 符号扩展为用户的主目录。
- 更健壮的存储和状态检查：`store` 和 `blob-status` 命令现在对主动清理过去事件的 Sui 全节点和将交易发送到不同全节点的负载均衡器更加健壮。
- 修复 CLI 解析：`walrus` CLI 现在正确处理 blob ID 中的连字符。

此次更新还将分片数量增加到 1000，这更能代表测试网和主网中的预期值。